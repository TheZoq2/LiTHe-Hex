\documentclass[a4paper,titlepage,12pt]{article}
\usepackage[utf8]{inputenc} %Make sure all UTF8 characters work in the document
\usepackage{graphicx}
\usepackage{titling}
\usepackage{tabularx}
\usepackage{longtable}
\usepackage[yyyymmdd]{datetime}
\usepackage[figurename=Figur]{caption}
\usepackage{booktabs}
\usepackage[parfill]{parskip}

%Set page size
\usepackage{geometry}
\geometry{margin=3cm}

\renewcommand{\dateseparator}{-}
\renewcommand{\contentsname}{Innehållsförteckning}
\renewcommand{\tablename}{Tabell}


\usepackage{listings}
\usepackage{color}


\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tb,
	language=Python,
	aboveskip=3mm,
	belowskip=3mm,
	showstringspaces=false,
	columns=flexible,
	basicstyle={\small\ttfamily},
	numbers=none,
	numberstyle=\tiny\color{gray},
	keywordstyle=\color{blue},
	commentstyle=\color{dkgreen},
	stringstyle=\color{mauve},
	breaklines=true,
	breakatwhitespace=true,
	tabsize=3
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Header and footer
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{fancyhdr}
\pagestyle{fancy}

\lhead{\includegraphics[width=0.15\linewidth]{../images/logo_full.png}}
\chead{Efterstudie}
\rhead{\today}
\setlength\headheight{26pt} 

\lfoot{TSEA29 -- KMM \\ LIPS Efterstudie}
\rfoot{Grupp 9 \\ LiTHe Hex}

\newcommand{\itc}{I\textsuperscript{2}C}

\pretitle{%
	\begin{center}
		\LARGE
		\includegraphics[width=6cm]{../images/logo_full.png}\\[\bigskipamount]
	}
	
	\posttitle{\end{center}}

\begin{document}
	\title{\LARGE
		\textbf{Efterstudie} \\
		\vspace*{0.5\baselineskip}
		\large
		Redaktör ???? \\
		Grupp 9 \\
		\small
		\vspace*{0.5\baselineskip}
		Version 1.0}
	
	\date{\today}
	
	\maketitle
	
	\newpage
	
	\begin{center}
		
		%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		%						Medlemmar
		%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		
		\section*{Projektidentitet}
		Grupp 9, Ht 2016, LiTHe Hex
		
		Linköpings Tekniska Högskola, ISY
		
		\renewcommand*{\arraystretch}{1.4}
		\begin{longtable}[c]{ l l l }
			\textbf{Namn} & \textbf{Ansvar} & \textbf{E-post} \\ \midrule
			Emil Segerbäck & & emise935@student.liu.se \\ \midrule
			Frans Skarman & Dokumentansvarig & frask812@student.liu.se \\ \midrule
			Hannes Tuhkala & & hantu447@student.liu.se \\ \midrule
			Malcolm Vigren & Projektledare & malvi108@student.liu.se \\ \midrule
			Noak Ringman &  & noari093@student.liu.se \\ \midrule
			Olav Övrebö &  & olaov121@student.liu.se \\ \midrule
			Robin Sliwa &  & robsl733@student.liu.se \\
		\end{longtable}
		
		\centering
		\textbf{Kursansvarig}: Tomas Svensson Rum 3B:528 013--28 13 68 tomas.svensson@liu.se
		
		\newpage
		\tableofcontents
		\newpage
		
		
		%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		%						Historik
		%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		
		\section*{Dokumenthistorik}
		\renewcommand*{\arraystretch}{1.4}
		\begin{longtable}[c]{ l l >{\raggedright}p{5cm} >{\raggedright}p{3cm} l }
			\textbf{Version} & \textbf{Datum} & \textbf{Utförda förändringar} 
			& \textbf{Utförda av} & \textbf{Granskad} \\ \midrule
			
			1.0 & 2016--12--20 & Första versionen & Projektgruppen &
			Projektgruppen \\
			
		\end{longtable}
	\end{center}
	
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	%						Inledning
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	
	\newpage
	
	\raggedright
	
	\section{Tidsåtgång}
    Tidsåtgången för projektet har varit stor.
	
	\subsection{Arbetsfördelning}
    Alla i gruppen har lagt ner minst 170 timmar, men vissa har fått arbeta
    lite mer, dels på grund av specifika hårdvarufel samt dålig fördelning av
    uppgifter.
	
	\subsection{Tidsåtgång jämfört med planerad tid}
    Den planerade tidsåtgången för projektet var 1120 timmar, men 1329 timmar
    användes.
	
	\section{Analys av arbete och problem}
	Nu är det dags för Hannes
	
	\subsection{Vad hände under de olika faserna?}

    Före-fasen, alltså skriving av kravspecifikation och projektplan, gick utan
    problem. Vi skulle dock i skrivandet av projektplanen lagt mer arbete på
    planering av fördelning av arbetsuppgifter. Exempelvis skulle vi ha
    analyserat den kritiska vägen bättre, samt undvika situationer där det är
    bara en eller två personer som kännner till de tekniska detaljerna för ett
    visst område.

    Skrivningen av designspecifikationen under Under-fasen gick bra. Vi
    skulle dock ha fokuserat mer på kommunikation mellan personer som arbetade på
    olika system, för att undvika duplicerat arbete och oenighet om
    koordinatsystem.

    Under implementationsfasen av projektet, hade vi mycket hårdvarufel och
    problem vid integration av enheterna. Vi fick också problem med att roboten
    inte kunde gå förrän sent i projektet, vilket gjorde det svårare för andra
    enheter att testas ordentligt, t ex beslutsfattning och korridorsföljning.
    Detta berodde på vår dåliga planering där motorikenheten enbart tilldelades
    till två personer, vilket möjligtvis hade kunnat undvikas med bättre
    kritisk-väg-analys.

    Under Efter-fasen skulle vi ha lagt ner mer tid på presentationen, så att
    folk kunde öva sina delar mer.
	
	\subsection{Hur vi arbetade tillsammans}
    Vissa parprogrammerade, medan vissa arbetade själva med en komponent av
    roboten. De som inte parprogrammerade skulle ha haft en bättre
    kommunikation med resten av gruppen.
	
	\subsection{Hur använde vi projektmodellen?}
    Vi följde projektmodellen ganska bra. Vi utvecklade systemen, enhetstestade
    och sedan integrationstestade dem, enligt V-modellen.
	
	\subsection{Hur fungerade relationen med beställaren?}
    Relationen med beställaren har gått bra. Tidrapporter har skickats i tid
    varje vecka och statusrapporter har skickats på begäran. 
	
	\subsection{Hur fungerade relationen med handledaren?}
    Till en början använde vi inte handledaren särskilt mycket, vilket vi
    skulle ha gjort. I slutet, då alla hårdvaruproblem uppstod, tog vi ganska
    mycket råd och hjälp från handledaren.
	
	\subsection{Tekniska framgångar/problem}
	Beskriv de 3 besvärligaste problemen som ni har haft under projektet. 
	Rangordna problemen där 1 är mest besvärlig i betydelsen tog längst tid att fixa.
	Beskriv för varje problem:

	a. felets typ - ange t.ex.  hårdvarufel, mjukvarufel, systemintegrationsfel 

	b. kort beskrivning av felets symptom 

	c. kort beskrivning av felets orsak t.ex. logiskt fel i programmering, timing-fel, glappkontakt, missförstånd av spec., felaktig design. 

	d. kort beskrivning av hur ni fixade felet. T.ex. hur ni fixade mjukvarubuggen, fick ny hårdvara, virade om, gick runt problemet.

	e. ungefärlig skattning av hur mycket tid som ni ägnade åt felsökningen (dvs. tid som kunde tjänats in om felet inte hade uppstått)
	
    % TODO kanske SPI-bussen, servokommunikation, tornadon, LIDARens I2C?
    % TODO ska vi skriva problem 3 först?

    \subsubsection{Problem 3: Här var det problem}

    Problem     Problem     Problem     Problem     Problem     Problem
    Problem     Problem     Problem     Problem     Problem     Problem 

    \subsubsection{Problem 2: Konstiga svar från servon}

    Detta var ett hårdvarufel som hade två huvudsymtom. Signalen på servobussen fick 
	konstiga värden där den digitala signalen varierade mellan tre nivåer. Senare i 
	projektet upptäckte vi även att roboten inte kunde svänga runt sin egen axel och
	inte heller kunde gå rakt åt sidan. 
	
	Till slut insåg vi att problemet berodde på att två servon hade fått samma ID. 
	När man begärde data från de servona försökte båda svara samtidigt och signalen
	blev fel.

    \subsubsection{Problem 1: Instabil SPI-buss}

    Detta hårdvarufel uppkom i slutet av vecka 49. SPI-kommunikationen visade
    sig vara oerhört instabil när både motorikenheten och sensorenheten
    användes tillsammans på bussen. Undersökning med oscilloskåp visade att
    signalerna hade mycket störningar, som gjorde kommunikationen svår,
    särskilt till sensorenheten.

    Lösningen på detta problem var helt enkelt att korta ner kablarna som
    används i SPI-bussen, så att de blev så korta som möjligt.

    Hade korta och mer strukturerat virade kablar använts, hade runt 56 timmar
    sparats. % TODO check

	\section{Måluppfyllelse}
	Nu är det dags för Hannes
	
	\subsection{Vad har uppnåtts?}
	Nu är det dags för Hannes
	
	\subsection{Hur fungerade leveransen?}
	Nu är det dags för Hannes
	
	\subsection{Hur har studiesituationen påverkat projektet?}
	Nu är det dags för Hannes
	
	\section{Sammanfattning}
	Nu är det dags för Hannes
	
	\subsection{De tre viktigaste erfarenheterna}
	Nu är det dags för Hannes
	
	\subsection{Goda råd till de som ska utföra ett liknande projekt}
	Glöm inte Hannes
	
\end{document}
